<div class="container">
  <div class="row">
    <%= link_to "削除", admin_user_post_path(@user, @post), method: :delete, "data-confirm"=>"本当に消しますか？",class:'btn btn-danger' %>
    <%= link_to "戻る", request.referer,class:'btn btn-outline-dark' %>
  </div>
  <div class="row">
    <div class="col-md-7">
      <h2><%= @post.title %></h2></br>
      <%= link_to request.referer, class: 'btn btn-outline-dark btn-block' do %>
        <%= @user.name %></br>
      <% end %>
      <%= image_tag @post.get_image(400,500) %></br>
      <!--タグの表示-->
      <h5>タグ</h5>
      <%= @post.tags.pluck(:name) %>
      <div style="width: 30%;", class="ml-2" id="comment_list">
        <!--コメントとコメントした人表示-->
        <%= render "user/comments/comment_list", comments: @comments %>
      </div>
    </div>
    <div class = "col-md-4">
      <p>絶景ポイント</p>
      <%= @post.introduction %></br>
      <div id='map'></div>
        <style>
        #map {
          height: 230px;
          width: 280px;
        }
        </style>
        <script>
        let map
        function initMap(){
          geocoder = new google.maps.Geocoder()

          map = new google.maps.Map(document.getElementById('map'), {
          // 緯度経度をgon(というgem)でjavascriptとrailsを連携させて、データを受け取り表示
            center: {lat: Number(gon.lat), lng: Number(gon.lng) },
            zoom: 11,
          });

          marker = new google.maps.Marker({
            position:   {lat: Number(gon.lat), lng: Number(gon.lng) },
            map: map
          });
        }
        let geocoder
        </script>
        <!--initMapの記述より上にinitMapを作成すると機能する-->
        <script src="https://maps.google.com/maps/api/js?key=<%= ENV['SECRET_KEY'] %>&callback=initMap&language=ja"></script>
      </div>
</div>
