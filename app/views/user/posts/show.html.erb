<div class="container">
  <script src="http://maps.google.com/maps/api/js?key=SECRET_KEY&language=ja"></script>
  <div class="row">
    <div class="col-md-4">
      <h2><%= @post.title %></h2></br>
      <p><%= @user.name %></p></br>
      <%= image_tag @post.get_image(200,200) %></br>
      <!--タグの表示-->
      <%= @post.tags.pluck(:name) %>
      <!--お気に入りに追加するボタン表示--></br>
      <!--コメントとコメントした人表示-->
      <div style = "width: 30%;", class="ml-2">
      <%# @post.each do |post| %>
        <!--コメントしたユーザーの画像表示して、名前と共にリンクにする-->
        <%= link_to users_my_page_path(@post.id) do  %>
        <%= image_tag @post.get_image(40,40) %></br>
          post.comment
        <% end %>
      </div>
      <%# end %>
      <div><%#= @post.comment %></div>
    </div>
    <div class = "offset-1 col-md-6">
      <p>絶景ポイント</p>
      <%= @post.introduction %></br>
      <div id='map'></div>
        <style>
        #map {
          height: 130px;
          width: 210px;
        }
        </style>
        <script>
        let map
        function initMap(){
          geocoder = new google.maps.Geocoder()

          map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 40.7828, lng:-73.9653},
            zoom: 12,
          });

          marker = new google.maps.Marker({
            position:  {lat: 40.7828, lng:-73.9653},
            map: map
          });
        }
        let geocoder
        function codeAddress(){
          let inputAddress = document.getElementById('address').value;
          geocoder.geocode( { 'address': inputAddress}, function(results, status) {
            if (status == 'OK') {
              map.setCenter(results[0].geometry.location);
              var marker = new google.maps.Marker({
                  map: map,
                  position: results[0].geometry.location
              });
            } else {
              alert('該当する結果がありませんでした：' + status);
            }
          });
        }
        </script>
        <script src="https://maps.googleapis.com/maps/api/js?key=SECRET_KEY&callback=initMap" async defer></script>
      </div>
    </div>
  </div>
  <div class="row">
  </div>
</div>

<!--<h1>User::Post#show</h1>-->
<!--<p>Find me in app/views/user/post/show.html.erb</p>-->
